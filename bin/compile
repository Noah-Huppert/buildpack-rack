#!/bin/bash

# Install Bower
if [ -f $1/bower.json ]; then
    echo "-----> Bower.json detected"
    echo "       Installing Bower dependencies"

    bower Install
else
    echo "-----> Bower.json NOT detected"
fi

# Install Gems
if [ -f $/Gemfile ]; then
    echo "-----> Gemfile detected"
    echo "       Installing gems"

    bundle install
else
    echo "-----> Gemfile NOT detected"
fi

# Install Rack
{
    rackup --version
} &> /dev/null

rackup_version_exit_code=$?

if [[ $rackup_version_exit_code != 0 ]]; then
    echo "-----> Rack NOT installed"
    echo "       Installing Rack"

    gem install rack
else
    echo "-----> Rack installed"
    echo "       $(rackup --version)"
fi